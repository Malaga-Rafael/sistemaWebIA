!function(){!async function(){try{const e="/api/roles",t=await fetch(e),n=await t.json();roles=n.roles,console.log(roles),function(){if(function(){const e=document.querySelector("#listado-roles");for(;e.firstChild;)e.removeChild(e.firstChild)}(),0===roles.length){const e=document.querySelector("#listado-roles"),o=document.createElement("LI");return o.textContent="No hay roles",o.classList.add("no-roles"),void e.appendChild(o)}roles.forEach(e=>{const t=document.createElement("LI");t.classList.add("rol");const n=document.createElement("P");n.textContent=e.nombre,n.ondblclick=function(){o(!0,{...e})},t.appendChild(n);document.querySelector("#listado-roles").appendChild(t)})}()}catch(e){console.log(e)}}();const e=document.querySelector("#agregar-rol");function o(e=!1,o={}){const t=document.createElement("DIV");t.classList.add("modal"),t.innerHTML=`\n            <form class="formulario nuevo-rol">\n                <legend>${e?"Editar Rol":"Añade un Nuevo Rol"}</legend>\n                <div class="campo">\n                    <label>Rol</label>\n                    <input \n                        type="text" \n                        name="rol" \n                        placeholder="${o.nombre?"Editar Rol":"Añadir Rol"}"\n                        id="rol" \n                        value="${o.nombre?o.nombre:""}"\n                    />\n                </div>\n\n                <div class="opciones">\n                    <input \n                        type="submit" \n                        class="submit-nuevo-rol" \n                        value="${e?"Guardar Cambios":"Añadir Rol"}" \n                    />\n                    <button type="button" class="cerrar-modal">Cancelar</button>\n                </div>\n            </form>\n        `,setTimeout(()=>{const e=t.querySelector(".formulario");e&&e.classList.add("animar")},0),t.addEventListener("click",function(n){if(n.preventDefault(),n.target.classList.contains("cerrar-modal")){document.querySelector(".formulario").classList.add("cerrar"),setTimeout(()=>{t.remove()},400)}if(n.target.classList.contains("submit-nuevo-rol")){const t=document.querySelector("#rol").value.trim();if(""===t)return void function(e,o,t){const n=document.querySelector(".alerta");n&&n.remove();const r=document.createElement("DIV");r.classList.add("alerta",o),r.textContent=e,t.parentElement.insertBefore(r,t.nextElementSibling),setTimeout(()=>{r.remove()},5e3)}("El nombre del rol es obligatorio","error",document.querySelector(".formulario legend"));e?(o.nombre=t,actualizarRol(o)):agregarRol(t)}}),document.querySelector(".dashboard").appendChild(t)}e&&e.addEventListener("click",function(){o()})}();